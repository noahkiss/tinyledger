# Phase 7.1: Filings - Research

**Researched:** 2026-02-02
**Domain:** Compliance filing tracking for sole proprietors and volunteer organizations
**Confidence:** HIGH

## Summary

This phase implements a dedicated Filings tab that consolidates compliance filing deadlines and completion tracking for both workspace types. The research focused on verifying IRS filing requirements for sole proprietors (1040-ES quarterly, Schedule C/SE annual) and volunteer organizations (990-N e-Postcard), plus Pennsylvania state requirements for both.

The key finding is that the existing tax-forms.ts data structure is already well-designed for expansion. The quarterly payments system already handles the mark-as-paid workflow with expandable forms, confirmation fields, and status colors (green=paid, red=past-due, yellow=upcoming). This implementation can be lifted and adapted for all filing types.

For volunteer organizations, the 990-N (e-Postcard) is the primary filing for small nonprofits with gross receipts under $50,000. PA state registration (BCO-10) is only required for orgs receiving over $25,000 in contributions, so many small volunteer organizations will be exempt.

**Primary recommendation:** Extend the existing tax-forms.ts data structure with filing-specific fields (completion status, confirmation tracking); create a new filings table in the database schema; reuse the quarterly payment card pattern with status colors.

## Standard Stack

### Core

| Library | Version | Purpose | Why Standard |
|---------|---------|---------|--------------|
| SvelteKit | ^2.49.1 | Routing, form actions | Already in project |
| Drizzle ORM | ^0.45.1 | Schema extension, queries | Already in project |
| Tailwind CSS | ^4.1.18 | Card styling, status colors | Already in project |

### Supporting

| Library | Version | Purpose | When to Use |
|---------|---------|---------|-------------|
| (none new) | - | - | Use existing stack |

### Data Sources (Static TypeScript)

| Source | Purpose | Update Frequency |
|--------|---------|-----------------|
| tax-forms.ts (extend) | Federal/state form metadata | Annually |
| filing-deadlines.ts (new) | Dynamic deadline calculation | Static logic |

**Installation:**
```bash
# No new packages needed
```

## Architecture Patterns

### Recommended Project Structure

```
src/
  routes/w/[workspace]/
    filings/
      +page.svelte              # NEW: Filings tab UI
      +page.server.ts           # NEW: Load filings, form actions
    taxes/
      +page.svelte              # MODIFY: Remove quarterly payments, add link to Filings
      +page.server.ts           # MODIFY: Remove quarterly payment actions
  lib/
    data/
      tax-forms.ts              # EXTEND: Add filing-specific fields
      filing-forms.ts           # NEW: 990-N and state registration forms
    server/db/
      schema.ts                 # EXTEND: Add filings table
    components/
      FilingCard.svelte         # NEW: Individual filing card (reuse patterns from quarterly payment card)
```

### Pattern 1: Unified Filing Data Model

**What:** Single data structure representing any filing (quarterly, annual, federal, state)

**When to use:** All filing display and tracking

**Example:**
```typescript
// src/lib/data/filing-forms.ts

export interface Filing {
  /** Unique identifier for this filing instance */
  id: string;
  /** Form identifier (schedule-c, 1040-es-q1, 990-n, etc.) */
  formId: string;
  /** Display name */
  name: string;
  /** Full official name */
  fullName: string;
  /** Brief description */
  description: string;
  /** Workspace type this applies to */
  workspaceType: 'sole_prop' | 'volunteer_org' | 'both';
  /** Filing frequency */
  frequency: 'annual' | 'quarterly';
  /** Quarter number (1-4) for quarterly filings, null for annual */
  quarter: 1 | 2 | 3 | 4 | null;
  /** Due date (ISO string, calculated per fiscal year) */
  dueDate: string;
  /** Due date display label */
  dueDateLabel: string;
  /** IRS link (federal) */
  irsLink?: string;
  /** State link (state forms) */
  stateLink?: string;
  /** Filing threshold note */
  filingThreshold?: string;
  /** State codes this applies to (empty = federal) */
  applicableStates?: string[];
}

export interface FilingWithStatus extends Filing {
  /** Whether filing is completed */
  isCompleted: boolean;
  /** Date filed (if completed) */
  filedAt: string | null;
  /** Confirmation number (optional) */
  confirmationNumber: string | null;
  /** User notes */
  notes: string | null;
  /** Status derived from dates */
  isPastDue: boolean;
  isUpcoming: boolean;
}
```

### Pattern 2: Filings Database Schema

**What:** Database table to track filing completion status

**When to use:** Persist user's filing completion records

**Example:**
```typescript
// Extend src/lib/server/db/schema.ts

export const filings = sqliteTable(
  'filings',
  {
    id: integer('id').primaryKey({ autoIncrement: true }),
    fiscalYear: integer('fiscal_year').notNull(),
    formId: text('form_id').notNull(), // e.g., 'schedule-c', '1040-es-q1', '990-n'
    filedAt: text('filed_at'), // ISO timestamp when marked complete
    confirmationNumber: text('confirmation_number'),
    notes: text('notes'),
    createdAt: text('created_at').default(sql`CURRENT_TIMESTAMP`).notNull(),
    updatedAt: text('updated_at').default(sql`CURRENT_TIMESTAMP`).notNull()
  },
  (table) => [
    // Unique constraint: one completion record per fiscal year per form
    index('filings_year_form_idx').on(table.fiscalYear, table.formId)
  ]
);

export type FilingRecord = typeof filings.$inferSelect;
export type NewFilingRecord = typeof filings.$inferInsert;
```

### Pattern 3: Filing Card Component (Reuse Quarterly Payment Pattern)

**What:** Card component matching existing quarterly payment card design

**When to use:** Display each filing in the Filings tab

**Example:**
```svelte
<!-- src/lib/components/FilingCard.svelte -->
<script lang="ts">
  import { formatCurrency } from '$lib/utils/currency';
  import type { FilingWithStatus } from '$lib/data/filing-forms';

  interface Props {
    filing: FilingWithStatus;
    onMarkComplete: (filing: FilingWithStatus) => void;
    onUnmarkComplete: (filing: FilingWithStatus) => void;
  }

  let { filing, onMarkComplete, onUnmarkComplete }: Props = $props();

  // Status colors (inherited from quarterly payments)
  const statusClass = $derived(
    filing.isCompleted ? 'border-green-300 bg-green-50'
    : filing.isPastDue ? 'border-red-300 bg-red-50'
    : filing.isUpcoming ? 'border-yellow-300 bg-yellow-50'
    : 'border-gray-200 bg-white'
  );
</script>

<div class="rounded-xl border p-4 {statusClass}">
  <div class="flex items-center justify-between mb-2">
    <span class="font-semibold text-gray-900">{filing.name}</span>
    {#if filing.isCompleted}
      <span class="inline-flex items-center rounded-full bg-green-100 px-2 py-0.5 text-xs font-medium text-green-800">
        Filed
      </span>
    {:else if filing.isPastDue}
      <span class="inline-flex items-center rounded-full bg-red-100 px-2 py-0.5 text-xs font-medium text-red-800">
        Past Due
      </span>
    {:else if filing.isUpcoming}
      <span class="inline-flex items-center rounded-full bg-yellow-100 px-2 py-0.5 text-xs font-medium text-yellow-800">
        Upcoming
      </span>
    {/if}
  </div>

  <p class="text-sm text-gray-600">{filing.description}</p>
  <p class="mt-1 text-sm text-gray-500">Due: {filing.dueDateLabel}</p>

  {#if filing.irsLink || filing.stateLink}
    <a
      href={filing.irsLink || filing.stateLink}
      target="_blank"
      rel="noopener noreferrer"
      class="mt-2 inline-block text-sm text-blue-600 hover:text-blue-800"
    >
      Filing instructions
    </a>
  {/if}

  <!-- Mark complete / unmark buttons follow quarterly payment pattern -->
</div>
```

### Pattern 4: Filings by Workspace Type

**What:** Generate appropriate filing list based on workspace type and state

**When to use:** Server load function for Filings tab

**Example:**
```typescript
// src/routes/w/[workspace]/filings/+page.server.ts

export function getFilingsForWorkspace(
  workspaceType: 'sole_prop' | 'volunteer_org',
  stateCode: string,
  fiscalYear: number,
  fiscalYearStartMonth: number
): Filing[] {
  const filings: Filing[] = [];

  if (workspaceType === 'sole_prop') {
    // Federal quarterly: 4 separate 1040-ES filings
    const quarterlyDates = getQuarterlyDueDates(fiscalYear);
    for (const qd of quarterlyDates) {
      filings.push({
        id: `1040-es-q${qd.quarter}-${fiscalYear}`,
        formId: `1040-es-q${qd.quarter}`,
        name: `1040-ES Q${qd.quarter}`,
        fullName: `Form 1040-ES Q${qd.quarter} Estimated Tax Payment`,
        description: 'Federal quarterly estimated tax payment',
        workspaceType: 'sole_prop',
        frequency: 'quarterly',
        quarter: qd.quarter,
        dueDate: qd.dueDate,
        dueDateLabel: qd.label,
        irsLink: 'https://www.irs.gov/forms-pubs/about-form-1040-es',
        filingThreshold: 'Expect to owe $1,000+ in federal taxes'
      });
    }

    // Federal annual: Schedule C, Schedule SE
    const annualDueDate = `${fiscalYear + 1}-04-15`;
    filings.push({
      id: `schedule-c-${fiscalYear}`,
      formId: 'schedule-c',
      name: 'Schedule C',
      fullName: 'Schedule C (Form 1040) - Profit or Loss From Business',
      description: 'Report profit or loss from your sole proprietorship',
      workspaceType: 'sole_prop',
      frequency: 'annual',
      quarter: null,
      dueDate: annualDueDate,
      dueDateLabel: `Apr 15, ${fiscalYear + 1}`,
      irsLink: 'https://www.irs.gov/forms-pubs/about-schedule-c-form-1040',
      filingThreshold: 'All sole proprietors with business income'
    });

    filings.push({
      id: `schedule-se-${fiscalYear}`,
      formId: 'schedule-se',
      name: 'Schedule SE',
      fullName: 'Schedule SE (Form 1040) - Self-Employment Tax',
      description: 'Calculate self-employment tax (Social Security and Medicare)',
      workspaceType: 'sole_prop',
      frequency: 'annual',
      quarter: null,
      dueDate: annualDueDate,
      dueDateLabel: `Apr 15, ${fiscalYear + 1}`,
      irsLink: 'https://www.irs.gov/forms-pubs/about-schedule-se-form-1040',
      filingThreshold: 'Net SE earnings of $400 or more'
    });

    // State quarterly (PA)
    if (stateCode === 'PA') {
      for (const qd of quarterlyDates) {
        filings.push({
          id: `pa-40-es-q${qd.quarter}-${fiscalYear}`,
          formId: `pa-40-es-q${qd.quarter}`,
          name: `PA-40 ES Q${qd.quarter}`,
          fullName: `PA-40 ES Q${qd.quarter} Estimated Tax Payment`,
          description: 'Pennsylvania quarterly estimated tax payment',
          workspaceType: 'sole_prop',
          frequency: 'quarterly',
          quarter: qd.quarter,
          dueDate: qd.dueDate,
          dueDateLabel: qd.label,
          stateLink: 'https://www.revenue.pa.gov/FormsAndPublications/FormsForIndividuals/PIT/Pages/default.aspx',
          filingThreshold: 'Expect to owe $430+ in PA taxes',
          applicableStates: ['PA']
        });
      }

      // PA annual
      filings.push({
        id: `pa-40-${fiscalYear}`,
        formId: 'pa-40',
        name: 'PA-40',
        fullName: 'PA-40 - Pennsylvania Personal Income Tax Return',
        description: 'Annual Pennsylvania state income tax return',
        workspaceType: 'sole_prop',
        frequency: 'annual',
        quarter: null,
        dueDate: annualDueDate,
        dueDateLabel: `Apr 15, ${fiscalYear + 1}`,
        stateLink: 'https://www.revenue.pa.gov/FormsAndPublications/FormsForIndividuals/PIT/Pages/default.aspx',
        applicableStates: ['PA']
      });
    }
  } else if (workspaceType === 'volunteer_org') {
    // 990-N for volunteer orgs
    // Due 15th day of 5th month after fiscal year end
    const fyEnd = getFiscalYearEnd(fiscalYear, fiscalYearStartMonth);
    const dueDate = add5Months15Days(fyEnd);

    filings.push({
      id: `990-n-${fiscalYear}`,
      formId: '990-n',
      name: '990-N (e-Postcard)',
      fullName: 'Form 990-N Electronic Notice',
      description: 'Annual electronic filing for small tax-exempt organizations',
      workspaceType: 'volunteer_org',
      frequency: 'annual',
      quarter: null,
      dueDate: dueDate,
      dueDateLabel: formatDateLabel(dueDate),
      irsLink: 'https://www.irs.gov/charities-non-profits/annual-electronic-filing-requirement-for-small-exempt-organizations-form-990-n-e-postcard',
      filingThreshold: 'Gross receipts normally $50,000 or less'
    });

    // PA state registration (BCO-10) - only if receiving >$25k contributions
    // Show as informational; user decides if applicable
    if (stateCode === 'PA') {
      filings.push({
        id: `pa-bco-10-${fiscalYear}`,
        formId: 'pa-bco-10',
        name: 'PA BCO-10',
        fullName: 'BCO-10 Charitable Organization Registration',
        description: 'PA charitable registration (required if >$25k contributions)',
        workspaceType: 'volunteer_org',
        frequency: 'annual',
        quarter: null,
        dueDate: getBCO10DueDate(fiscalYear, fiscalYearStartMonth),
        dueDateLabel: formatDateLabel(getBCO10DueDate(fiscalYear, fiscalYearStartMonth)),
        stateLink: 'https://www.pa.gov/agencies/dos/programs/charities/information-for-charities/-charitable-organizations',
        filingThreshold: 'Required if gross contributions >$25,000',
        applicableStates: ['PA']
      });
    }
  }

  return filings;
}
```

### Pattern 5: Grouping and Sorting Filings

**What:** Group filings by status (past-due first, then upcoming, then completed, then future)

**When to use:** Display logic in Filings tab

**Example:**
```typescript
// Server-side sorting helper
export function sortFilingsByPriority(filings: FilingWithStatus[]): FilingWithStatus[] {
  return [...filings].sort((a, b) => {
    // Past due (unpaid) first
    if (a.isPastDue && !b.isPastDue) return -1;
    if (!a.isPastDue && b.isPastDue) return 1;

    // Then upcoming
    if (a.isUpcoming && !b.isUpcoming) return -1;
    if (!a.isUpcoming && b.isUpcoming) return 1;

    // Then by due date
    return a.dueDate.localeCompare(b.dueDate);
  });
}

// For display grouping
export function groupFilingsByStatus(filings: FilingWithStatus[]): {
  pastDue: FilingWithStatus[];
  upcoming: FilingWithStatus[];
  completed: FilingWithStatus[];
  future: FilingWithStatus[];
} {
  return {
    pastDue: filings.filter(f => f.isPastDue && !f.isCompleted),
    upcoming: filings.filter(f => f.isUpcoming && !f.isCompleted && !f.isPastDue),
    completed: filings.filter(f => f.isCompleted),
    future: filings.filter(f => !f.isCompleted && !f.isPastDue && !f.isUpcoming)
  };
}
```

### Anti-Patterns to Avoid

- **Mixing quarterly payment data with filing data:** Create separate filings table; quarterly_payments table remains for tax amounts
- **Hardcoding deadline calculations:** Use functions that calculate from fiscal year parameters
- **Showing all forms for all workspaces:** Filter by workspace type (sole_prop vs volunteer_org)
- **Blocking on optional fields:** Confirmation number and notes are optional; only filedAt is required

## Don't Hand-Roll

| Problem | Don't Build | Use Instead | Why |
|---------|-------------|-------------|-----|
| Due date calculation | Custom date math | Existing `getQuarterlyDueDates()` | Already handles Q4 Jan 15 edge case |
| Status colors | New color scheme | Existing green/red/yellow pattern | Consistency with quarterly payments |
| Expandable forms | Custom accordion | Existing toggle pattern from taxes page | User already familiar with UX |
| FY picker | New component | Existing FY picker from taxes page | Consistent navigation |
| Currency display | Custom formatting | `formatCurrency()` | Handles locale, edge cases |

**Key insight:** This phase is largely "lift and shift" with expansion. The quarterly payment UX is already proven; extend it to all filing types.

## Common Pitfalls

### Pitfall 1: Quarterly Payment Migration Creates Data Loss

**What goes wrong:** Removing quarterly payments from taxes page before filings tab is ready

**Why it happens:** Phased implementation without data migration

**How to avoid:**
- Keep quarterly_payments table for tax amount tracking (used in tax calculations)
- Create new filings table for completion status
- Quarterly payments on taxes page can be removed AFTER filings tab is complete
- Consider showing quarterly payment status in BOTH places during transition

**Warning signs:** Users lose track of which quarters they've paid

### Pitfall 2: 990-N Due Date Calculation Wrong

**What goes wrong:** Due date shows wrong month because fiscal year handling is incorrect

**Why it happens:** 990-N is due 15th of 5th month AFTER fiscal year end, which requires careful date math

**How to avoid:**
- For calendar year (Jan-Dec): FY ends Dec 31, due May 15
- For fiscal year (Jul-Jun): FY ends Jun 30, due Nov 15
- Use helper function that handles month rollover correctly

**Warning signs:** 990-N due date doesn't match IRS instructions

### Pitfall 3: BCO-10 Shown to All PA Volunteer Orgs

**What goes wrong:** Small volunteer org gets confused seeing BCO-10 requirement

**Why it happens:** Not all PA nonprofits need to register (exempt if <$25k contributions)

**How to avoid:**
- Show BCO-10 with clear threshold note
- Consider making it optional/hideable
- Include "may not be required" language in description

**Warning signs:** User complains about irrelevant filing requirement

### Pitfall 4: Mark Complete Without Confirmation

**What goes wrong:** User accidentally marks filing complete, loses track of what's actually filed

**Why it happens:** No confirmation step before marking complete

**How to avoid:**
- Require confirmation dialog (matches existing quarterly payment pattern)
- Require date filed field (defaults to today but editable)
- Unmark also requires confirmation

**Warning signs:** User marks complete, realizes they haven't actually filed, can't easily fix

### Pitfall 5: New Workspace Mid-Year Missing Filings

**What goes wrong:** User creates workspace in September, doesn't see Q1-Q3 filings

**Why it happens:** Only showing "future" filings, not past-due ones

**How to avoid:**
- Generate ALL filings for the fiscal year regardless of creation date
- Past-due filings show at top in red (user can mark complete if already filed)
- Let user clear past filings retroactively

**Warning signs:** New mid-year workspace shows empty filings tab

## Code Examples

### 990-N Due Date Calculation

```typescript
// Source: IRS - due 15th day of 5th month after fiscal year end
// https://www.irs.gov/charities-non-profits/annual-electronic-filing-requirement-for-small-exempt-organizations-form-990-n-e-postcard

/**
 * Calculate 990-N due date based on fiscal year end.
 * Due: 15th day of 5th month after fiscal year close.
 *
 * @param fiscalYear - The fiscal year (e.g., 2026)
 * @param fiscalYearStartMonth - Month FY starts (1=Jan, 7=Jul, etc.)
 * @returns ISO date string for due date
 */
export function get990NDueDate(fiscalYear: number, fiscalYearStartMonth: number): string {
  // Calculate fiscal year end
  // If FY starts in January, ends Dec 31 of same year
  // If FY starts in July, ends June 30 of following year
  let fyEndYear: number;
  let fyEndMonth: number;

  if (fiscalYearStartMonth === 1) {
    // Calendar year: ends Dec 31
    fyEndYear = fiscalYear;
    fyEndMonth = 12;
  } else {
    // Fiscal year: ends month before start, following year
    fyEndYear = fiscalYearStartMonth > 1 ? fiscalYear + 1 : fiscalYear;
    fyEndMonth = fiscalYearStartMonth - 1;
    if (fyEndMonth === 0) fyEndMonth = 12;
  }

  // Add 5 months to find due month
  let dueMonth = fyEndMonth + 5;
  let dueYear = fyEndYear;
  if (dueMonth > 12) {
    dueMonth -= 12;
    dueYear += 1;
  }

  // Due on 15th of that month
  const monthStr = dueMonth.toString().padStart(2, '0');
  return `${dueYear}-${monthStr}-15`;
}

// Examples:
// Calendar year (Jan-Dec 2026): ends Dec 2026, due May 15, 2027
// Fiscal year (Jul 2026-Jun 2027): ends Jun 2027, due Nov 15, 2027
```

### PA BCO-10 Due Date Calculation

```typescript
// Source: PA Department of State
// Due: 15th day of 11th month after fiscal year close

export function getBCO10DueDate(fiscalYear: number, fiscalYearStartMonth: number): string {
  // Similar logic to 990-N but 11 months after close
  let fyEndYear: number;
  let fyEndMonth: number;

  if (fiscalYearStartMonth === 1) {
    fyEndYear = fiscalYear;
    fyEndMonth = 12;
  } else {
    fyEndYear = fiscalYearStartMonth > 1 ? fiscalYear + 1 : fiscalYear;
    fyEndMonth = fiscalYearStartMonth - 1;
    if (fyEndMonth === 0) fyEndMonth = 12;
  }

  // Add 11 months
  let dueMonth = fyEndMonth + 11;
  let dueYear = fyEndYear;
  while (dueMonth > 12) {
    dueMonth -= 12;
    dueYear += 1;
  }

  const monthStr = dueMonth.toString().padStart(2, '0');
  return `${dueYear}-${monthStr}-15`;
}
```

### Taxes Page Link to Filings

```svelte
<!-- Add to taxes/+page.svelte after quarterly payments section removal -->
<section class="rounded-lg border border-gray-200 bg-white p-4">
  <div class="flex items-center justify-between">
    <div>
      <h3 class="font-medium text-gray-900">Track Your Filings</h3>
      <p class="text-sm text-gray-600">
        View deadlines and mark filings as complete in the Filings tab.
      </p>
    </div>
    <a
      href="/w/{data.workspaceId}/filings"
      class="inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700"
    >
      Go to Filings
      <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
    </a>
  </div>
</section>
```

## State of the Art

| Old Approach | Current Approach | When Changed | Impact |
|--------------|------------------|--------------|--------|
| Quarterly payments only | Full filing tracking | Phase 7.1 | Covers all compliance needs |
| Forms in collapsed details | Individual filing cards | Phase 7.1 | Better visibility, trackable |
| Taxes page does everything | Split: Taxes=calculations, Filings=tracking | Phase 7.1 | Cleaner separation of concerns |

**Deprecated/outdated:**
- Quarterly payment section on taxes page: Will link to Filings instead

## Open Questions

1. **Migrate existing quarterly payment completion to new filings table?**
   - What we know: quarterly_payments table has fiscal year + quarter + paid status
   - What's unclear: Whether to migrate existing records or start fresh
   - Recommendation: Write migration that copies existing quarterly_payments to filings table with formId like '1040-es-q1'. Keep quarterly_payments for tax amount tracking.

2. **Show volunteer org filings even if not a registered 501(c)(3)?**
   - What we know: TinyLedger doesn't verify 501(c)(3) status
   - What's unclear: Should we show 990-N for all volunteer_org workspaces?
   - Recommendation: Yes, show 990-N with note "for tax-exempt organizations". User can ignore if not applicable. Better to over-inform than under-inform.

3. **Handle states other than PA**
   - What we know: Only PA state forms are currently defined
   - What's unclear: When to add more states
   - Recommendation: For now, only show state filings for PA. Add placeholder "State filings not yet available for [State]" for other states. Future enhancement.

## Sources

### Primary (HIGH confidence)
- IRS Publication 509 (2026): https://www.irs.gov/publications/p509 - Tax calendar, quarterly deadlines
- IRS Form 990-N requirements: https://www.irs.gov/charities-non-profits/annual-electronic-filing-requirement-for-small-exempt-organizations-form-990-n-e-postcard - e-Postcard filing
- IRS Form 1040-ES: https://www.irs.gov/forms-pubs/about-form-1040-es - Quarterly payment requirements
- PA Department of Revenue: https://www.revenue.pa.gov - PA-40 ES quarterly, PA-40 annual
- PA Department of State (Charities): https://www.pa.gov/agencies/dos/programs/charities - BCO-10 registration

### Secondary (MEDIUM confidence)
- Tax Foundation 2026 deadlines: https://taxfoundation.org - Confirms IRS dates
- NerdWallet Quarterly Tax Guide: https://www.nerdwallet.com/taxes/learn/estimated-quarterly-taxes - 2026 deadline verification

### Tertiary (LOW confidence)
- Harbor Compliance PA Nonprofit: https://www.harborcompliance.com/pennsylvania-charitable-registration - BCO-10 threshold ($25k)

## Metadata

**Confidence breakdown:**
- Filing requirements: HIGH - Verified with IRS official sources
- Deadlines: HIGH - IRS Publication 509 (2026) confirms dates
- Database schema: HIGH - Follows existing Drizzle patterns
- UI patterns: HIGH - Reusing proven quarterly payment patterns
- PA state forms: MEDIUM - Verified with PA DOR but threshold details from secondary sources
- BCO-10 requirements: MEDIUM - Multiple sources agree on $25k threshold

**Research date:** 2026-02-02
**Valid until:** 2026-04-15 (deadlines change annually; verify before 2027)

---

## Discretionary Recommendations

### PA State Filing Requirements for Sole Proprietors

**Recommendation:** Include PA-40 ES (quarterly) and PA-40 (annual) for PA sole proprietors

**Rationale:**
1. PA has flat 3.07% tax rate, making estimates straightforward
2. Quarterly threshold is $430 (much lower than federal $1,000)
3. Same due dates as federal (Apr 15, Jun 15, Sep 15, Jan 15)
4. Links already defined in existing tax-forms.ts

### PA State Registration for Volunteer Orgs (BCO-10)

**Recommendation:** Show BCO-10 but with prominent threshold note

**Rationale:**
1. Only required if receiving >$25,000 in gross contributions
2. Many small volunteer orgs are exempt
3. Include in filing list with clear "may not apply" language
4. Let user decide relevance; don't auto-hide

### Card Styling Details

**Recommendation:** Exact same styling as quarterly payment cards from taxes page

```css
/* Status classes (already in use) */
.border-green-300.bg-green-50  /* completed/paid */
.border-red-300.bg-red-50      /* past due */
.border-yellow-300.bg-yellow-50 /* upcoming (within 30 days) */
.border-gray-200.bg-white      /* future */
```

**Rationale:**
1. User already trained on this color scheme
2. Consistent visual language across app
3. No new CSS classes needed

### Edge Case: New Workspace Mid-Year

**Recommendation:** Show all filings for the fiscal year, including past-due ones

**Rationale:**
1. User may have already filed some forms before creating workspace
2. Past-due items show at top in red, user can mark complete retroactively
3. Better to show "too much" than miss a deadline
4. User can clear past filings by marking them complete with actual filed date
